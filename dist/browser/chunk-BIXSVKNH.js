import{W as O,ha as H,qa as M}from"./chunk-35JZMQSQ.js";import{a as x}from"./chunk-EQDQRRRY.js";var K={type:"scroll",speed:.5,containerClass:"jarallax-container",imgSrc:null,imgElement:".jarallax-img",imgSize:"cover",imgPosition:"50% 50%",imgRepeat:"no-repeat",keepImg:!1,elementInViewport:null,zIndex:-100,disableParallax:!1,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null,videoClass:"jarallax-video",videoSrc:null,videoStartTime:0,videoEndTime:0,videoVolume:0,videoLoop:!0,videoPlayOnlyVisible:!0,videoLazyLoading:!0,disableVideo:!1,onVideoInsert:null,onVideoWorkerInit:null},A;typeof window<"u"?A=window:typeof global<"u"?A=global:typeof self<"u"?A=self:A={};var m=A;function Z(n,t){return typeof t=="string"?m.getComputedStyle(n).getPropertyValue(t):(Object.keys(t).forEach(e=>{n.style[e]=t[e]}),n)}function ee(n,...t){return n=n||{},Object.keys(t).forEach(e=>{t[e]&&Object.keys(t[e]).forEach(o=>{n[o]=t[e][o]})}),n}function te(n){let t=[];for(;n.parentElement!==null;)n=n.parentElement,n.nodeType===1&&t.push(n);return t}function ie(n){document.readyState==="complete"||document.readyState==="interactive"?n():document.addEventListener("DOMContentLoaded",n,{capture:!0,once:!0,passive:!0})}var{navigator:oe}=m,ne=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(oe.userAgent);function se(){return ne}var G,P,b;function ae(){return!b&&document.body&&(b=document.createElement("div"),b.style.cssText="position: fixed; top: -9999px; left: 0; height: 100vh; width: 0;",document.body.appendChild(b)),(b?b.clientHeight:0)||m.innerHeight||document.documentElement.clientHeight}function E(){G=m.innerWidth||document.documentElement.clientWidth,se()?P=ae():P=m.innerHeight||document.documentElement.clientHeight}E();m.addEventListener("resize",E);m.addEventListener("orientationchange",E);m.addEventListener("load",E);ie(()=>{E()});function V(){return{width:G,height:P}}var y=[];function X(){if(!y.length)return;let{width:n,height:t}=V();y.forEach((e,o)=>{let{instance:a,oldData:r}=e;if(!a.isVisible())return;let s=a.$item.getBoundingClientRect(),i={width:s.width,height:s.height,top:s.top,bottom:s.bottom,wndW:n,wndH:t},l=!r||r.wndW!==i.wndW||r.wndH!==i.wndH||r.width!==i.width||r.height!==i.height,p=l||!r||r.top!==i.top||r.bottom!==i.bottom;y[o].oldData=i,l&&a.onResize(),p&&a.onScroll()}),m.requestAnimationFrame(X)}var q=new m.IntersectionObserver(n=>{n.forEach(t=>{t.target.jarallax.isElementInViewport=t.isIntersecting})},{rootMargin:"50px"});function re(n){y.push({instance:n}),y.length===1&&m.requestAnimationFrame(X),q.observe(n.options.elementInViewport||n.$item)}function le(n){y.forEach((t,e)=>{t.instance.instanceID===n.instanceID&&y.splice(e,1)}),q.unobserve(n.options.elementInViewport||n.$item)}var{navigator:Y}=m,z=0,T=class{constructor(t,e){let o=this;o.instanceID=z,z+=1,o.$item=t,o.defaults=x({},K);let a=o.$item.dataset||{},r={};if(Object.keys(a).forEach(i=>{let l=i.substr(0,1).toLowerCase()+i.substr(1);l&&typeof o.defaults[l]<"u"&&(r[l]=a[i])}),o.options=o.extend({},o.defaults,r,e),o.pureOptions=o.extend({},o.options),Object.keys(o.options).forEach(i=>{o.options[i]==="true"?o.options[i]=!0:o.options[i]==="false"&&(o.options[i]=!1)}),o.options.speed=Math.min(2,Math.max(-1,parseFloat(o.options.speed))),typeof o.options.disableParallax=="string"&&(o.options.disableParallax=new RegExp(o.options.disableParallax)),o.options.disableParallax instanceof RegExp){let i=o.options.disableParallax;o.options.disableParallax=()=>i.test(Y.userAgent)}if(typeof o.options.disableParallax!="function"){let i=o.options.disableParallax;o.options.disableParallax=()=>i===!0}if(typeof o.options.disableVideo=="string"&&(o.options.disableVideo=new RegExp(o.options.disableVideo)),o.options.disableVideo instanceof RegExp){let i=o.options.disableVideo;o.options.disableVideo=()=>i.test(Y.userAgent)}if(typeof o.options.disableVideo!="function"){let i=o.options.disableVideo;o.options.disableVideo=()=>i===!0}let s=o.options.elementInViewport;s&&typeof s=="object"&&typeof s.length<"u"&&([s]=s),s instanceof Element||(s=null),o.options.elementInViewport=s,o.image={src:o.options.imgSrc||null,$container:null,useImgTag:!1,position:"fixed"},o.initImg()&&o.canInitParallax()&&o.init()}css(t,e){return Z(t,e)}extend(t,...e){return ee(t,...e)}getWindowData(){let{width:t,height:e}=V();return{width:t,height:e,y:document.documentElement.scrollTop}}initImg(){let t=this,e=t.options.imgElement;return e&&typeof e=="string"&&(e=t.$item.querySelector(e)),e instanceof Element||(t.options.imgSrc?(e=new Image,e.src=t.options.imgSrc):e=null),e&&(t.options.keepImg?t.image.$item=e.cloneNode(!0):(t.image.$item=e,t.image.$itemParent=e.parentNode),t.image.useImgTag=!0),t.image.$item?!0:(t.image.src===null&&(t.image.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",t.image.bgImage=t.css(t.$item,"background-image")),!(!t.image.bgImage||t.image.bgImage==="none"))}canInitParallax(){return!this.options.disableParallax()}init(){let t=this,e={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"},o={pointerEvents:"none",transformStyle:"preserve-3d",backfaceVisibility:"hidden"};if(!t.options.keepImg){let a=t.$item.getAttribute("style");if(a&&t.$item.setAttribute("data-jarallax-original-styles",a),t.image.useImgTag){let r=t.image.$item.getAttribute("style");r&&t.image.$item.setAttribute("data-jarallax-original-styles",r)}}if(t.css(t.$item,"position")==="static"&&t.css(t.$item,{position:"relative"}),t.css(t.$item,"z-index")==="auto"&&t.css(t.$item,{zIndex:0}),t.image.$container=document.createElement("div"),t.css(t.image.$container,e),t.css(t.image.$container,{"z-index":t.options.zIndex}),this.image.position==="fixed"&&t.css(t.image.$container,{"-webkit-clip-path":"polygon(0 0, 100% 0, 100% 100%, 0 100%)","clip-path":"polygon(0 0, 100% 0, 100% 100%, 0 100%)"}),t.image.$container.setAttribute("id",`jarallax-container-${t.instanceID}`),t.options.containerClass&&t.image.$container.setAttribute("class",t.options.containerClass),t.$item.appendChild(t.image.$container),t.image.useImgTag?o=t.extend({"object-fit":t.options.imgSize,"object-position":t.options.imgPosition,"max-width":"none"},e,o):(t.image.$item=document.createElement("div"),t.image.src&&(o=t.extend({"background-position":t.options.imgPosition,"background-size":t.options.imgSize,"background-repeat":t.options.imgRepeat,"background-image":t.image.bgImage||`url("${t.image.src}")`},e,o))),(t.options.type==="opacity"||t.options.type==="scale"||t.options.type==="scale-opacity"||t.options.speed===1)&&(t.image.position="absolute"),t.image.position==="fixed"){let a=te(t.$item).filter(r=>{let s=m.getComputedStyle(r),i=s["-webkit-transform"]||s["-moz-transform"]||s.transform;return i&&i!=="none"||/(auto|scroll)/.test(s.overflow+s["overflow-y"]+s["overflow-x"])});t.image.position=a.length?"absolute":"fixed"}o.position=t.image.position,t.css(t.image.$item,o),t.image.$container.appendChild(t.image.$item),t.onResize(),t.onScroll(!0),t.options.onInit&&t.options.onInit.call(t),t.css(t.$item,"background-image")!=="none"&&t.css(t.$item,{"background-image":"none"}),re(t)}destroy(){let t=this;le(t);let e=t.$item.getAttribute("data-jarallax-original-styles");if(t.$item.removeAttribute("data-jarallax-original-styles"),e?t.$item.setAttribute("style",e):t.$item.removeAttribute("style"),t.image.useImgTag){let o=t.image.$item.getAttribute("data-jarallax-original-styles");t.image.$item.removeAttribute("data-jarallax-original-styles"),o?t.image.$item.setAttribute("style",e):t.image.$item.removeAttribute("style"),t.image.$itemParent&&t.image.$itemParent.appendChild(t.image.$item)}t.image.$container&&t.image.$container.parentNode.removeChild(t.image.$container),t.options.onDestroy&&t.options.onDestroy.call(t),delete t.$item.jarallax}coverImage(){let t=this,{height:e}=V(),o=t.image.$container.getBoundingClientRect(),a=o.height,{speed:r}=t.options,s=t.options.type==="scroll"||t.options.type==="scroll-opacity",i=0,l=a,p=0;return s&&(r<0?(i=r*Math.max(a,e),e<a&&(i-=r*(a-e))):i=r*(a+e),r>1?l=Math.abs(i-e):r<0?l=i/r+Math.abs(i):l+=(e-a)*(1-r),i/=2),t.parallaxScrollDistance=i,s?p=(e-l)/2:p=(a-l)/2,t.css(t.image.$item,{height:`${l}px`,marginTop:`${p}px`,left:t.image.position==="fixed"?`${o.left}px`:"0",width:`${o.width}px`}),t.options.onCoverImage&&t.options.onCoverImage.call(t),{image:{height:l,marginTop:p},container:o}}isVisible(){return this.isElementInViewport||!1}onScroll(t){let e=this;if(!t&&!e.isVisible())return;let{height:o}=V(),a=e.$item.getBoundingClientRect(),r=a.top,s=a.height,i={},l=Math.max(0,r),p=Math.max(0,s+r),u=Math.max(0,-r),f=Math.max(0,r+s-o),c=Math.max(0,s-(r+s-o)),I=Math.max(0,-r+o-s),j=1-2*((o-r)/(o+s)),g=1;if(s<o?g=1-(u||f)/s:p<=o?g=p/o:c<=o&&(g=c/o),(e.options.type==="opacity"||e.options.type==="scale-opacity"||e.options.type==="scroll-opacity")&&(i.transform="translate3d(0,0,0)",i.opacity=g),e.options.type==="scale"||e.options.type==="scale-opacity"){let v=1;e.options.speed<0?v-=e.options.speed*g:v+=e.options.speed*(1-g),i.transform=`scale(${v}) translate3d(0,0,0)`}if(e.options.type==="scroll"||e.options.type==="scroll-opacity"){let v=e.parallaxScrollDistance*j;e.image.position==="absolute"&&(v-=r),i.transform=`translate3d(0,${v}px,0)`}e.css(e.image.$item,i),e.options.onScroll&&e.options.onScroll.call(e,{section:a,beforeTop:l,beforeTopEnd:p,afterTop:u,beforeBottom:f,beforeBottomEnd:c,afterBottom:I,visiblePercent:g,fromViewportCenter:j})}onResize(){this.coverImage()}},J=function(n,t,...e){(typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string")&&(n=[n]);let o=n.length,a=0,r;for(a;a<o;a+=1)if(typeof t=="object"||typeof t>"u"?n[a].jarallax||(n[a].jarallax=new T(n[a],t)):n[a].jarallax&&(r=n[a].jarallax[t].apply(n[a].jarallax,e)),typeof r<"u")return r;return n};J.constructor=T;var pe={autoplay:!1,loop:!1,mute:!1,volume:100,showControls:!0,accessibilityHidden:!1,startTime:0,endTime:0};function de(n,...t){return n=n||{},Object.keys(t).forEach(e=>{t[e]&&Object.keys(t[e]).forEach(o=>{n[o]=t[e][o]})}),n}var k=0,h=class{type="none";constructor(t,e){let o=this;o.url=t,o.options_default=x({},pe),o.options=de({},o.options_default,e),o.videoID=o.constructor.parseURL(t),o.videoID&&o.init()}isValid(){return!!this.videoID}init(){let t=this;t.ID=k,k+=1,t.playerID=`VideoWorker-${t.ID}`}on(t,e){this.userEventsList=this.userEventsList||[],(this.userEventsList[t]||(this.userEventsList[t]=[])).push(e)}off(t,e){!this.userEventsList||!this.userEventsList[t]||(e?this.userEventsList[t].forEach((o,a)=>{o===e&&(this.userEventsList[t][a]=!1)}):delete this.userEventsList[t])}fire(t,...e){this.userEventsList&&typeof this.userEventsList[t]<"u"&&this.userEventsList[t].forEach(o=>{o&&o.apply(this,e)})}static parseURL(t){return!1}play(t){}pause(){}mute(){}unmute(){}setVolume(t=!1){}getVolume(t){}getMuted(t){}setCurrentTime(t=!1){}getCurrentTime(t){}getImageURL(t){}getVideo(t){}},w;typeof window<"u"?w=window:typeof global<"u"?w=global:typeof self<"u"?w=self:w={};var d=w;function L(){this.doneCallbacks=[],this.failCallbacks=[]}L.prototype={execute(n,t){let e=n.length;for(t=Array.prototype.slice.call(t);e;)e-=1,n[e].apply(null,t)},resolve(...n){this.execute(this.doneCallbacks,n)},reject(...n){this.execute(this.failCallbacks,n)},done(n){this.doneCallbacks.push(n)},fail(n){this.failCallbacks.push(n)}};var W=0,B=0,N=new L;function ue(){if(W)return;W=!0;let n="https://www.youtube.com/iframe_api",t=document.createElement("script"),e=document.getElementsByTagName("head")[0];t.src=n,e.appendChild(t),e=null,t=null}function fe(n){(typeof d.YT>"u"||d.YT.loaded===0)&&!B?(B=1,d.onYouTubeIframeAPIReady=function(){d.onYouTubeIframeAPIReady=null,N.resolve("done"),n()}):typeof d.YT=="object"&&d.YT.loaded===1?n():N.done(()=>{n()})}var S=class extends h{type="youtube";static parseURL(t){let e=/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|shorts\/|watch\?v=)([^#\&\?]*).*/,o=t.match(e);return o&&o[1].length===11?o[1]:!1}init(){super.init(),ue()}play(t){let e=this;!e.player||!e.player.playVideo||(typeof t<"u"&&e.player.seekTo(t||0),d.YT.PlayerState.PLAYING!==e.player.getPlayerState()&&(e.options.endTime&&!e.options.loop?e.getCurrentTime(o=>{o<e.options.endTime&&e.player.playVideo()}):e.player.playVideo()))}pause(){let t=this;!t.player||!t.player.pauseVideo||d.YT.PlayerState.PLAYING===t.player.getPlayerState()&&t.player.pauseVideo()}mute(){let t=this;!t.player||!t.player.mute||t.player.mute()}unmute(){let t=this;!t.player||!t.player.unMute||t.player.unMute()}setVolume(t=!1){let e=this;!e.player||typeof t!="number"||!e.player.setVolume||e.player.setVolume(t)}getVolume(t){let e=this;if(!e.player){t(!1);return}e.player.getVolume&&t(e.player.getVolume())}getMuted(t){let e=this;if(!e.player){t(null);return}e.player.isMuted&&t(e.player.isMuted())}setCurrentTime(t=!1){let e=this;!e.player||typeof t!="number"||!e.player.seekTo||e.player.seekTo(t)}getCurrentTime(t){let e=this;!e.player||!e.player.getCurrentTime||t(e.player.getCurrentTime())}getImageURL(t){let e=this;if(e.videoImage){t(e.videoImage);return}let o=["maxresdefault","sddefault","hqdefault","0"],a=0,r=new Image;r.onload=function(){(this.naturalWidth||this.width)!==120||a===o.length-1?(e.videoImage=`https://img.youtube.com/vi/${e.videoID}/${o[a]}.jpg`,t(e.videoImage)):(a+=1,this.src=`https://img.youtube.com/vi/${e.videoID}/${o[a]}.jpg`)},r.src=`https://img.youtube.com/vi/${e.videoID}/${o[a]}.jpg`}getVideo(t){let e=this;if(e.$video){t(e.$video);return}fe(()=>{let o;e.$video||(o=document.createElement("div"),o.style.display="none"),e.playerOptions={host:"https://www.youtube-nocookie.com",videoId:e.videoID,playerVars:{autohide:1,rel:0,autoplay:0,playsinline:1}},e.options.showControls||(e.playerOptions.playerVars.iv_load_policy=3,e.playerOptions.playerVars.modestbranding=1,e.playerOptions.playerVars.controls=0,e.playerOptions.playerVars.showinfo=0,e.playerOptions.playerVars.disablekb=1);let a,r;e.playerOptions.events={onReady(i){e.options.mute?i.target.mute():typeof e.options.volume=="number"&&i.target.setVolume(e.options.volume),e.options.autoplay&&e.play(e.options.startTime),e.fire("ready",i),e.options.loop&&!e.options.endTime&&(e.options.endTime=e.player.getDuration()-.1),setInterval(()=>{e.getVolume(l=>{e.options.volume!==l&&(e.options.volume=l,e.fire("volumechange",i))})},150)},onStateChange(i){e.options.loop&&i.data===d.YT.PlayerState.ENDED&&e.play(e.options.startTime),!a&&i.data===d.YT.PlayerState.PLAYING&&(a=1,e.fire("started",i)),i.data===d.YT.PlayerState.PLAYING&&e.fire("play",i),i.data===d.YT.PlayerState.PAUSED&&e.fire("pause",i),i.data===d.YT.PlayerState.ENDED&&e.fire("ended",i),i.data===d.YT.PlayerState.PLAYING?r=setInterval(()=>{e.fire("timeupdate",i),e.options.endTime&&e.player.getCurrentTime()>=e.options.endTime&&(e.options.loop?e.play(e.options.startTime):e.pause())},150):clearInterval(r)},onError(i){e.fire("error",i)}};let s=!e.$video;if(s){let i=document.createElement("div");i.setAttribute("id",e.playerID),o.appendChild(i),document.body.appendChild(o)}e.player=e.player||new d.YT.Player(e.playerID,e.playerOptions),s&&(e.$video=document.getElementById(e.playerID),e.options.accessibilityHidden&&(e.$video.setAttribute("tabindex","-1"),e.$video.setAttribute("aria-hidden","true")),e.videoWidth=parseInt(e.$video.getAttribute("width"),10)||1280,e.videoHeight=parseInt(e.$video.getAttribute("height"),10)||720),t(e.$video)})}},U=0,_=0,F=new L;function me(){if(U||(U=!0,typeof d.Vimeo<"u"))return;let n="https://player.vimeo.com/api/player.js",t=document.createElement("script"),e=document.getElementsByTagName("head")[0];t.src=n,e.appendChild(t),e=null,t=null}function ce(n){if(typeof d.Vimeo>"u"&&!_){_=1;let t=setInterval(()=>{typeof d.Vimeo<"u"&&(clearInterval(t),F.resolve("done"),n())},20)}else typeof d.Vimeo<"u"?n():F.done(()=>{n()})}var D=class extends h{type="vimeo";static parseURL(t){let e=/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,o=t.match(e);return o&&o[3]?o[3]:!1}static parseURLHash(t){let e=/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/,o=t.match(e);return o&&o.length===5?o[4]:null}init(){super.init(),me()}play(t){let e=this;e.player&&(typeof t<"u"&&e.player.setCurrentTime(t),e.player.getPaused().then(o=>{o&&(e.options.endTime&&!e.options.loop?e.getCurrentTime(a=>{a<e.options.endTime&&e.player.play()}):e.player.play())}))}pause(){let t=this;t.player&&t.player.getPaused().then(e=>{e||t.player.pause()})}mute(){let t=this;!t.player||!t.player.setVolume||t.setVolume(0)}unmute(){let t=this;!t.player||!t.player.setVolume||t.setVolume(t.options.volume||100)}setVolume(t=!1){let e=this;!e.player||typeof t!="number"||!e.player.setVolume||e.player.setVolume(t/100)}getVolume(t){let e=this;if(!e.player){t(!1);return}e.player.getVolume&&e.player.getVolume().then(o=>{t(o*100)})}getMuted(t){let e=this;if(!e.player){t(null);return}e.player.getVolume&&e.player.getVolume().then(o=>{t(!!o)})}setCurrentTime(t=!1){let e=this;!e.player||typeof t!="number"||!e.player.setCurrentTime||e.player.setCurrentTime(t)}getCurrentTime(t){let e=this;!e.player||!e.player.getCurrentTime||e.player.getCurrentTime().then(o=>{t(o)})}getImageURL(t){let e=this;if(e.videoImage){t(e.videoImage);return}let o=d.innerWidth||1920;d.devicePixelRatio&&(o*=d.devicePixelRatio),o=Math.min(o,1920);let a=new XMLHttpRequest;a.open("GET",`https://vimeo.com/api/oembed.json?url=${e.url}&width=${o}`,!0),a.onreadystatechange=function(){if(this.readyState===4&&this.status>=200&&this.status<400){let r=JSON.parse(this.responseText);r.thumbnail_url&&(e.videoImage=r.thumbnail_url,t(e.videoImage))}},a.send(),a=null}getVideo(t){let e=this;if(e.$video){t(e.$video);return}ce(()=>{let o;e.$video||(o=document.createElement("div"),o.style.display="none"),e.playerOptions={dnt:1,id:e.videoID,autopause:0,transparent:0,autoplay:e.options.autoplay?1:0,loop:e.options.loop?1:0,muted:e.options.mute||e.options.volume===0?1:0};let a=e.constructor.parseURLHash(e.url);if(a&&(e.playerOptions.h=a),e.options.showControls||(e.playerOptions.controls=0),!e.options.showControls&&e.options.loop&&e.options.autoplay&&(e.playerOptions.background=1),!e.$video){let s="";Object.keys(e.playerOptions).forEach(i=>{s!==""&&(s+="&"),s+=`${i}=${encodeURIComponent(e.playerOptions[i])}`}),e.$video=document.createElement("iframe"),e.$video.setAttribute("id",e.playerID),e.$video.setAttribute("src",`https://player.vimeo.com/video/${e.videoID}?${s}`),e.$video.setAttribute("frameborder","0"),e.$video.setAttribute("mozallowfullscreen",""),e.$video.setAttribute("allowfullscreen",""),e.$video.setAttribute("title","Vimeo video player"),e.options.accessibilityHidden&&(e.$video.setAttribute("tabindex","-1"),e.$video.setAttribute("aria-hidden","true")),o.appendChild(e.$video),document.body.appendChild(o)}e.player=e.player||new d.Vimeo.Player(e.$video,e.playerOptions),!e.options.mute&&typeof e.options.volume=="number"&&e.setVolume(e.options.volume),e.options.startTime&&e.options.autoplay&&e.player.setCurrentTime(e.options.startTime),e.player.getVideoWidth().then(s=>{e.videoWidth=s||1280}),e.player.getVideoHeight().then(s=>{e.videoHeight=s||720});let r;e.player.on("timeupdate",s=>{r||(e.fire("started",s),r=1),e.fire("timeupdate",s),e.options.endTime&&s.seconds>=e.options.endTime&&(e.options.loop?e.play(e.options.startTime):e.pause())}),e.player.on("play",s=>{e.fire("play",s),e.options.startTime&&s.seconds===0&&e.play(e.options.startTime)}),e.player.on("pause",s=>{e.fire("pause",s)}),e.player.on("ended",s=>{e.fire("ended",s)}),e.player.on("loaded",s=>{e.fire("ready",s)}),e.player.on("volumechange",s=>{e.getVolume(i=>{e.options.volume=i}),e.fire("volumechange",s)}),e.player.on("error",s=>{e.fire("error",s)}),t(e.$video)})}},R=class extends h{type="local";static parseURL(t){let e=t.split(/,(?=mp4\:|webm\:|ogv\:|ogg\:)/),o={},a=0;return e.forEach(r=>{let s=r.match(/^(mp4|webm|ogv|ogg)\:(.*)/);s&&s[1]&&s[2]&&(o[s[1]==="ogv"?"ogg":s[1]]=s[2],a=1)}),a?o:!1}play(t){let e=this;e.player&&(typeof t<"u"&&(e.player.currentTime=t),e.player.paused&&(e.options.endTime&&!e.options.loop?e.getCurrentTime(o=>{o<e.options.endTime&&e.player.play()}):e.player.play()))}pause(){let t=this;!t.player||t.player.paused||t.player.pause()}mute(){let t=this;t.player&&(t.$video.muted=!0)}unmute(){let t=this;t.player&&(t.$video.muted=!1)}setVolume(t=!1){let e=this;!e.player||typeof t!="number"||(e.$video.volume=t/100)}getVolume(t){let e=this;if(!e.player){t(!1);return}t(e.$video.volume*100)}getMuted(t){let e=this;if(!e.player){t(null);return}t(e.$video.muted)}setCurrentTime(t=!1){let e=this;!e.player||typeof t!="number"||(e.$video.currentTime=t)}getCurrentTime(t){let e=this;e.player&&t(e.player.currentTime)}getImageURL(t){let e=this;e.videoImage&&t(e.videoImage)}getVideo(t){let e=this;if(e.$video){t(e.$video);return}let o;e.$video||(o=document.createElement("div"),o.style.display="none");function a(s,i,l){let p=document.createElement("source");p.src=i,p.type=l,s.appendChild(p)}e.$video||(e.$video=document.createElement("video"),e.player=e.$video,e.options.showControls&&(e.$video.controls=!0),typeof e.options.volume=="number"&&e.setVolume(e.options.volume),e.options.mute&&e.mute(),e.options.loop&&(e.$video.loop=!0),e.$video.setAttribute("playsinline",""),e.$video.setAttribute("webkit-playsinline",""),e.options.accessibilityHidden&&(e.$video.setAttribute("tabindex","-1"),e.$video.setAttribute("aria-hidden","true")),e.$video.setAttribute("id",e.playerID),o.appendChild(e.$video),document.body.appendChild(o),Object.keys(e.videoID).forEach(s=>{a(e.$video,e.videoID[s],`video/${s}`)}));let r;e.player.addEventListener("playing",s=>{r||e.fire("started",s),r=1}),e.player.addEventListener("timeupdate",function(s){e.fire("timeupdate",s),e.options.endTime&&this.currentTime>=e.options.endTime&&(e.options.loop?e.play(e.options.startTime):e.pause())}),e.player.addEventListener("play",s=>{e.fire("play",s)}),e.player.addEventListener("pause",s=>{e.fire("pause",s)}),e.player.addEventListener("ended",s=>{e.fire("ended",s)}),e.player.addEventListener("loadedmetadata",function(){e.videoWidth=this.videoWidth||1280,e.videoHeight=this.videoHeight||720,e.fire("ready"),e.options.autoplay&&e.play(e.options.startTime)}),e.player.addEventListener("volumechange",s=>{e.getVolume(i=>{e.options.volume=i}),e.fire("volumechange",s)}),e.player.addEventListener("error",s=>{e.fire("error",s)}),t(e.$video)}};function $(n,t){let e=!1;return Object.keys($.providers).forEach(o=>{!e&&$.providers[o].parseURL(n)&&(e=new $.providers[o](n,t))}),e||new h(n,t)}$.BaseClass=h;$.providers={Youtube:S,Vimeo:D,Local:R};function ge(n=m.jarallax){if(typeof n>"u")return;let t=n.constructor,e=t.prototype.onScroll;t.prototype.onScroll=function(){let i=this;e.apply(i),!i.isVideoInserted&&i.video&&(!i.options.videoLazyLoading||i.isElementInViewport)&&!i.options.disableVideo()&&(i.isVideoInserted=!0,i.video.getVideo(p=>{let u=p.parentNode;i.css(p,{position:i.image.position,top:"0px",left:"0px",right:"0px",bottom:"0px",width:"100%",height:"100%",maxWidth:"none",maxHeight:"none",pointerEvents:"none",transformStyle:"preserve-3d",backfaceVisibility:"hidden",margin:0,zIndex:-1}),i.$video=p,i.video.type==="local"&&(i.image.src?i.$video.setAttribute("poster",i.image.src):i.image.$item&&i.image.$item.tagName==="IMG"&&i.image.$item.src&&i.$video.setAttribute("poster",i.image.$item.src)),i.options.videoClass&&i.$video.setAttribute("class",`${i.options.videoClass} ${i.options.videoClass}-${i.video.type}`),i.image.$container.appendChild(p),u.parentNode.removeChild(u),i.options.onVideoInsert&&i.options.onVideoInsert.call(i)}))};let o=t.prototype.coverImage;t.prototype.coverImage=function(){let i=this,l=o.apply(i),p=i.image.$item?i.image.$item.nodeName:!1;if(l&&i.video&&p&&(p==="IFRAME"||p==="VIDEO")){let u=l.image.height,f=u*i.image.width/i.image.height,c=(l.container.width-f)/2,I=l.image.marginTop;l.container.width>f&&(f=l.container.width,u=f*i.image.height/i.image.width,c=0,I+=(l.image.height-u)/2),p==="IFRAME"&&(u+=400,I-=200),i.css(i.$video,{width:`${f}px`,marginLeft:`${c}px`,height:`${u}px`,marginTop:`${I}px`})}return l};let a=t.prototype.initImg;t.prototype.initImg=function(){let i=this,l=a.apply(i);return i.options.videoSrc||(i.options.videoSrc=i.$item.getAttribute("data-jarallax-video")||null),i.options.videoSrc?(i.defaultInitImgResult=l,!0):l};let r=t.prototype.canInitParallax;t.prototype.canInitParallax=function(){let i=this,l=r.apply(i);if(!i.options.videoSrc)return l;let p=new $(i.options.videoSrc,{autoplay:!0,loop:i.options.videoLoop,showControls:!1,accessibilityHidden:!0,startTime:i.options.videoStartTime||0,endTime:i.options.videoEndTime||0,mute:!i.options.videoVolume,volume:i.options.videoVolume||0});i.options.onVideoWorkerInit&&i.options.onVideoWorkerInit.call(i,p);function u(){i.image.$default_item&&(i.image.$item=i.image.$default_item,i.image.$item.style.display="block",i.coverImage(),i.onScroll())}if(p.isValid()){if(this.options.disableParallax()&&(l=!0,i.image.position="absolute",i.options.type="scroll",i.options.speed=1),!l)i.defaultInitImgResult||p.getImageURL(f=>{let c=i.$item.getAttribute("style");c&&i.$item.setAttribute("data-jarallax-original-styles",c),i.css(i.$item,{"background-image":`url("${f}")`,"background-position":"center","background-size":"cover"})});else if(p.on("ready",()=>{if(i.options.videoPlayOnlyVisible){let f=i.onScroll;i.onScroll=function(){f.apply(i),!i.videoError&&(i.options.videoLoop||!i.options.videoLoop&&!i.videoEnded)&&(i.isVisible()?p.play():p.pause())}}else p.play()}),p.on("started",()=>{i.image.$default_item=i.image.$item,i.image.$item=i.$video,i.image.width=i.video.videoWidth||1280,i.image.height=i.video.videoHeight||720,i.coverImage(),i.onScroll(),i.image.$default_item&&(i.image.$default_item.style.display="none")}),p.on("ended",()=>{i.videoEnded=!0,i.options.videoLoop||u()}),p.on("error",()=>{i.videoError=!0,u()}),i.video=p,!i.defaultInitImgResult&&(i.image.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",p.type!=="local"))return p.getImageURL(f=>{i.image.bgImage=`url("${f}")`,i.init()}),!1}return l};let s=t.prototype.destroy;t.prototype.destroy=function(){let i=this;i.image.$default_item&&(i.image.$item=i.image.$default_item,delete i.image.$default_item),s.apply(i)}}var C=J,Q=function(){return ge(C)};var $e=(()=>{class n{constructor(e){this.eleRef=e}ngOnInit(){Q()}ngAfterViewInit(){this.eleRef.nativeElement&&C(this.eleRef.nativeElement,x({},this.config))}ngOnDestroy(){this.eleRef.nativeElement&&C(this.eleRef.nativeElement,"destroy")}static{this.\u0275fac=function(o){return new(o||n)(M(H))}}static{this.\u0275dir=O({type:n,selectors:[["","ngJarallax",""]],inputs:{config:"config"},standalone:!0})}}return n})();export{$e as a};
